#!/bin/bash

FORPAPER=0

HEADER="# WARNING: THIS FILE IS AUTOMATICALLY GENERATED.\n\nload \"variants_header.gnuplot\"\n\n"
SVGTERM="set terminal svg"
WEBTERM="set terminal svg enhanced mouse standalone"
MISC="font \"arial,10\" size plotw ploth"

mkdir -p svg
mkdir -p tmp

if [ $FORPAPER -eq 1 ]
then
  echo -e $HEADER$SVGTERM $MISC > tmp/variants_sieve.gnuplot
  echo -e $HEADER$SVGTERM $MISC > tmp/variants_enum.gnuplot
else
  echo -e $HEADER$WEBTERM $MISC > tmp/variants_sieve.gnuplot
  echo -e $HEADER$WEBTERM $MISC > tmp/variants_enum.gnuplot
fi

sed 's/xxxx/sieve/g' variants_template.gnuplot >> tmp/variants_sieve.gnuplot
sed 's/xxxx/enum/g' variants_template.gnuplot >> tmp/variants_enum.gnuplot

gnuplot tmp/variants_sieve.gnuplot
gnuplot tmp/variants_enum.gnuplot
