#!/bin/bash

FORPAPER=0

HEADER="# WARNING: THIS FILE IS AUTOMATICALLY GENERATED.\n\nload \"variants_header.gnuplot\"\n\n"
SVGTERM="set terminal svg"
WEBTERM="set terminal svg enhanced mouse standalone"
MISC="font \"arial,10\" size plotw ploth"

mkdir -p svg
mkdir -p tmp

if [ $FORPAPER -eq 1 ]
then
  echo -e $HEADER$SVGTERM $MISC > tmp/variants_core.gnuplot
  echo -e $HEADER$SVGTERM $MISC > tmp/variants_hybrid.gnuplot
else
  echo -e $HEADER$WEBTERM $MISC > tmp/variants_core.gnuplot
  echo -e $HEADER$WEBTERM $MISC > tmp/variants_hybrid.gnuplot
fi

MODELS="nv08 bdgl16 d18"

for MODEL in ${MODELS}; do
  cp tmp/variants_core.gnuplot tmp/variants_core_${MODEL}.gnuplot
  cp tmp/variants_hybrid.gnuplot tmp/variants_hybrid_${MODEL}.gnuplot

  sed "s/xxxx/core/g; s/yyyy/${MODEL}/g;" variants_template2.gnuplot >> tmp/variants_core_${MODEL}.gnuplot
  sed "s/xxxx/hybrid/g; s/yyyy/${MODEL}/g;" variants_template2.gnuplot >> tmp/variants_hybrid_${MODEL}.gnuplot

  gnuplot tmp/variants_core_${MODEL}.gnuplot
  gnuplot tmp/variants_hybrid_${MODEL}.gnuplot
done

